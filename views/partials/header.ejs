<header class="bg-white shadow-md" style="position: sticky; top: 0; z-index: 1000; backdrop-filter: blur(10px); background-color: rgba(255, 255, 255, 0.95);">
    <nav class="container d-flex justify-content-between align-items-center py-3">
        <a href="/" class="d-flex align-items-center text-decoration-none slide-in-left">
            <i class="fas fa-coins text-primary me-2" style="font-size: 1.5rem; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.1));"></i>
            <span class="h4 mb-0 text-primary fw-bold" style="background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">CoinCoach</span>
        </a>

        <div class="d-none d-md-flex">
            <a href="/" class="nav-link px-3 py-2 text-dark text-decoration-none hover-bright stagger-item slide-in-up">Home</a>
            <a href="/transactions" class="nav-link px-3 py-2 text-dark text-decoration-none hover-bright stagger-item slide-in-up">Transactions</a>
            <a href="/bills" class="nav-link px-3 py-2 text-dark text-decoration-none hover-bright stagger-item slide-in-up">Bills</a>
            <a href="/goals" class="nav-link px-3 py-2 text-dark text-decoration-none hover-bright stagger-item slide-in-up">Goals</a>
            <a href="/insights" class="nav-link px-3 py-2 text-dark text-decoration-none hover-bright stagger-item slide-in-up">Insights</a>
            <a href="/conversion" class="nav-link px-3 py-2 text-dark text-decoration-none hover-bright stagger-item slide-in-up">Conversion</a>
            <a href="/chat" class="nav-link px-3 py-2 text-dark text-decoration-none hover-bright stagger-item slide-in-up">AI Assistant</a>
        </div>

        <div class="d-flex align-items-center">
            <% if (typeof currentUser !== 'undefined' && currentUser) { %>
                <div class="dropdown">
                    <button class="btn btn-outline-primary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-user-circle me-1"></i> Account
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="userDropdown">
                        <li><a class="dropdown-item" href="/user/profile"><i class="fas fa-user me-2"></i> Profile</a></li>
                        <li><a class="dropdown-item" href="/user/settings"><i class="fas fa-cog me-2"></i> Settings</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="/logout"><i class="fas fa-sign-out-alt me-2"></i> Logout</a></li>
                    </ul>
                </div>
            <% } else { %>
                <a href="/login" class="btn btn-outline-primary me-2 slide-in-right hover-lift">
                    <i class="fas fa-sign-in-alt me-1"></i> Login
                </a>
                <a href="/register" class="btn btn-primary slide-in-right hover-lift" style="animation-delay: 0.1s;">
                    <i class="fas fa-user-plus me-1"></i> Sign Up
                </a>
            <% } %>

            <!-- Mobile menu button -->
            <button class="btn d-md-none ms-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu" aria-controls="mobileMenu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>
</header>