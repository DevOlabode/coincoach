<% layout('./layout/boilerplate') %>

<form action="/logout" method="post">
    <button class="btn btn-warning">Logout</button>
</form>

<form action="/user/<%= user.displayName %>/delete?_method=delete" method="post" onsubmit="return confirmDelete()">
    <button class="btn btn-danger">Delete Account</button>
</form>

<script>
function confirmDelete() {
    const username = prompt('Type your display name to confirm deletion:');
    if (username !== '<%= user.displayName %>') {
        alert('Display name does not match. Account deletion cancelled.');
        return false;
    }
    return confirm('Are you absolutely sure? This action cannot be undone.');
}
</script>
<h1>User Profile</h1>

<ul>
    <li><%= user.fullName %></li>    
    <li><%= user.displayName %></li>    
    <li><%= user.email %></li>    
    <li><%= user.preferredCurrency %></li>    
    <li><%= user.location %></li>    
    <li><%= user.bio %></li>    
</ul>

<a href="/user/edit-profile" class="btn btn-warning">Edit Profile</a>

