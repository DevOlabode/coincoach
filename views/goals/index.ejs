<%- layout('./layout/boilerplate') %>

<h2>Your Financial Goals</h2>

<a href="#createGoal" class="btn btn-primary mb-3">Create New Goal</a>

<% if (goals.length === 0) { %>
  <p>No goals yet. Start by creating one below.</p>
<% } %>

<% goals.forEach(goal => { %>
  <div class="card mb-3">
    <div class="card-body">
      <h5>Target: $<%= goal.goalSummary.targetAmount %></h5>
      <p>
        Progress:
        <strong><%= goal.progress.completionPercentage.toFixed(1) %>%</strong>
      </p>
      <p>Status: <%= goal.status %></p>
      <small><%= goal.motivationTip %></small>
    </div>
  </div>
<% }) %>

<hr>

<h3 id="createGoal">Explain your financial goal</h3>

<form action="/goals" method="POST">
  <textarea
    name="explanation"
    class="form-control mb-3"
    rows="6"
    placeholder="Example: I want to save $500 in 4 weeks for an emergency fund..."
    required
  ></textarea>
  <button class="btn btn-success">Create Goal</button>
</form>
